import{j as e}from"./vendor-query-6aI7gcTg.js";import{r as s}from"./vendor-react-B1NQUE71.js";import{u as a,r as t,J as r,K as l,I as o,B as n,C as i,b as d,Y as c,d as m,a as x}from"./admin-Dl5TM23y.js";import{q as u,p as g,e as h,m as f,v as p}from"./vendor-ui-B9couhbc.js";const j=()=>{const[j,b]=s.useState([]),[N,w]=s.useState([]),[y,v]=s.useState(!0),[C,k]=s.useState(""),[I,S]=s.useState("All"),[L,F]=s.useState([]),{toast:D}=a();s.useEffect(()=>{A()},[]),s.useEffect(()=>{E()},[C,I,j]);const A=async()=>{try{const e=await t.getResources();if(!e.success)throw new Error(e.error||"Failed to load resources");b(e.data||[]),w(e.data||[])}catch(e){D({title:"Error",description:"Failed to load downloadable files. Please try again later.",variant:"destructive"})}finally{v(!1)}},E=()=>{let e=j;C&&(e=e.filter(e=>e.title.toLowerCase().includes(C.toLowerCase())||e.description.toLowerCase().includes(C.toLowerCase())||e.category.toLowerCase().includes(C.toLowerCase()))),"All"!==I&&(e=e.filter(e=>e.category===I)),w(e)};return y?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(r,{}),e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading downloadable forms..."})]})}),e.jsx(l,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(r,{}),e.jsx("div",{className:"bg-primary text-primary-foreground py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Insurance Forms & Documents"}),e.jsx("p",{className:"text-xl opacity-90 max-w-3xl mx-auto",children:"Download the forms and documents you need for your insurance claims, applications, and policy management. All forms are current and ready to use."})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(u,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(o,{placeholder:"Search forms by name, description, or category...",value:C,onChange:e=>k(e.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(g,{className:"h-5 w-5 text-muted-foreground mt-2 mr-2"}),["All",...[...new Set(j.map(e=>e.category))].sort()].map(s=>e.jsxs(n,{variant:I===s?"default":"outline",size:"sm",onClick:()=>S(s),className:"text-xs",children:[s,"All"!==s&&e.jsxs("span",{className:"ml-1 text-xs opacity-75",children:["(",j.filter(e=>e.category===s).length,")"]})]},s))]})]}),e.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:["Showing ",N.length," of ",j.length," forms"]})]}),0===N.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(h,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No forms found"}),e.jsx("p",{className:"text-muted-foreground",children:C||"All"!==I?"Try adjusting your search or filter criteria":"No forms available at the moment"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(s=>{return e.jsxs(i,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(d,{children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx(h,{className:"h-8 w-8 text-primary flex-shrink-0"}),e.jsx(c,{className:(a=s.category,{"Motor Insurance":"bg-blue-100 text-blue-800","General Insurance":"bg-green-100 text-green-800","Commercial Insurance":"bg-purple-100 text-purple-800","Livestock Insurance":"bg-yellow-100 text-yellow-800","Medical Insurance":"bg-red-100 text-red-800","Personal Insurance":"bg-pink-100 text-pink-800","Liability Insurance":"bg-orange-100 text-orange-800","Workers Compensation":"bg-indigo-100 text-indigo-800",Documentation:"bg-gray-100 text-gray-800"}[a]||"bg-gray-100 text-gray-800"),children:s.category})]}),e.jsx(m,{className:"text-lg leading-tight",children:s.title})]}),e.jsxs(x,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4 leading-relaxed",children:s.description}),e.jsx(n,{onClick:()=>(async(e,s)=>{try{F(s=>[...s,e]);const a=await t.downloadResource(e);if(!a.success)throw new Error(a.error||"Failed to get download URL");window.open(a.data.file_url,"_blank"),D({title:"Success",description:`${s} download initiated!`})}catch(a){D({title:"Download Error",description:`Failed to download ${s}. Please try again.`,variant:"destructive"})}finally{F(s=>s.filter(s=>s!==e))}})(s.id,s.title),disabled:L.includes(s.id),className:"w-full",size:"sm",children:L.includes(s.id)?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Downloading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Download File"]})})]})]},s.id);var a})}),e.jsx("div",{className:"mt-16 bg-muted rounded-lg p-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx(p,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Important Information"}),e.jsxs("div",{className:"text-left space-y-4",children:[e.jsxs("div",{className:"bg-background p-4 rounded border",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"ðŸ“‹ Form Completion"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Please ensure all forms are completely filled out with accurate information. Incomplete forms may delay processing."})]}),e.jsxs("div",{className:"bg-background p-4 rounded border",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"ðŸ“Ž Required Documents"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Some forms may require additional supporting documents. Please refer to the documentation guide for complete requirements."})]}),e.jsxs("div",{className:"bg-background p-4 rounded border",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"ðŸ“§ Submission"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Completed forms can be submitted via email, our online portal, or delivered to any of our branch offices."})]})]})]})})]}),e.jsx(l,{})]})};export{j as default};
